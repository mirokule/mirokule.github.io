<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.3" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.3">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.3" color="#222">





  <meta name="keywords" content="Unity, iOS, Swift, ML" />










<meta name="description" content="非著名失业家">
<meta property="og:type" content="website">
<meta property="og:title" content="Gate of Babylon">
<meta property="og:url" content="http://mirokule.github.io/page/7/index.html">
<meta property="og:site_name" content="Gate of Babylon">
<meta property="og:description" content="非著名失业家">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Gate of Babylon">
<meta name="twitter:description" content="非著名失业家">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.3',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://mirokule.github.io/page/7/"/>





  <title>Gate of Babylon</title><!-- hexo-inject:begin --><!-- hexo-inject:end -->
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Gate of Babylon</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">不积跬步，无以至千里</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-commonweal">
          <a href="/404.html" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-heartbeat"></i> <br />
            
            公益404
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://mirokule.github.io/2016/11/29/Unity-Component/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Miles">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Gate of Babylon">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/11/29/Unity-Component/" itemprop="url">Unity-Component</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-11-29T10:48:16+08:00">
                2016-11-29
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  189
                </span>
              

              

              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Component is base class for everything attached to GameObjects.</p>
<h4 id="Variables"><a href="#Variables" class="headerlink" title="Variables"></a>Variables</h4><ul>
<li>gameObject: The game object which the component is attached to. Always not null.</li>
<li>tag</li>
<li>transform: The transform attached to gameObject.</li>
</ul>
<h4 id="Public-Functions"><a href="#Public-Functions" class="headerlink" title="Public Functions"></a>Public Functions</h4><ul>
<li>CompareTag    Is this game object tagged with tag ?</li>
</ul>
<h6 id="GetComponent"><a href="#GetComponent" class="headerlink" title="GetComponent"></a>GetComponent</h6><ul>
<li>GetComponent    Returns the component of Type type if the game object has one attached, null if it doesn’t.</li>
<li>GetComponentInChildren    Returns the component of Type type in the GameObject or any of its children using depth first search.</li>
<li>GetComponentInParent    Returns the component of Type type in the GameObject or any of its parents.</li>
<li>GetComponents    Returns all components of Type type in the GameObject.</li>
<li>GetComponentsInChildren    Returns all components of Type type in the GameObject or any of its children.</li>
<li>GetComponentsInParent    Returns all components of Type type in the GameObject or any of its parents.</li>
</ul>
<h6 id="Message"><a href="#Message" class="headerlink" title="Message"></a>Message</h6><ul>
<li>BroadcastMessage    Calls the method named methodName on every MonoBehaviour in this game object or any of its children.</li>
<li>SendMessage    Calls the method named methodName on every MonoBehaviour in this game object.</li>
<li>SendMessageUpwards    Calls the method named methodName on every MonoBehaviour in this game object and on every ancestor of the behaviour.</li>
</ul>
<p><strong>SendMessageOptions</strong></p>
<ul>
<li>RequireReceiver</li>
<li>DontRequireReceiver</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://mirokule.github.io/2016/11/29/Unity-Physics/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Miles">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Gate of Babylon">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/11/29/Unity-Physics/" itemprop="url">Unity-Physics</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-11-29T10:29:59+08:00">
                2016-11-29
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  542
                </span>
              

              

              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Global physics properties and helper methods.</p>
<h4 id="Static-Variables"><a href="#Static-Variables" class="headerlink" title="Static Variables"></a>Static Variables</h4><ul>
<li>AllLayers    Layer mask constant to select all layers.</li>
<li>bounceThreshold    Two colliding objects with a relative velocity below this will not bounce (default 2). Must be positive.</li>
<li>defaultContactOffset    The default contact offset of the newly created colliders.</li>
<li>DefaultRaycastLayers    Layer mask constant to select default raycast layers.</li>
<li>defaultSolverIterations    The defaultSolverIterations determines how accurately Rigidbody joints and collision contacts are resolved. (default 6). Must be positive.</li>
<li>defaultSolverVelocityIterations    The defaultSolverVelocityIterations affects how how accurately Rigidbody joints and collision contacts are resolved. (default 1). Must be positive.</li>
<li>gravity    The gravity applied to all rigid bodies in the scene.</li>
<li>IgnoreRaycastLayer    Layer mask constant to select ignore raycast layer.</li>
<li>queriesHitTriggers    Specifies whether queries (raycasts, spherecasts, overlap tests, etc.) hit Triggers by default.</li>
<li>sleepThreshold    The mass-normalized energy threshold, below which objects start going to sleep.</li>
</ul>
<h4 id="Static-Functions"><a href="#Static-Functions" class="headerlink" title="Static Functions"></a>Static Functions</h4><h6 id="Cast-out-hit"><a href="#Cast-out-hit" class="headerlink" title="Cast(out hit)"></a>Cast(out hit)</h6><ul>
<li>Raycast    Casts a ray, from point origin, in direction direction, of length maxDistance, against all colliders in the scene.</li>
<li>RaycastAll    Casts a ray through the scene and returns all hits. Note that order is not guaranteed.</li>
<li>RaycastNonAlloc    Cast a ray through the scene and store the hits into the buffer.</li>
<li>SphereCast    Casts a sphere along a ray and returns detailed information on what was hit.</li>
<li>SphereCastAll    Like Physics.SphereCast, but this function will return all hits the sphere sweep intersects.</li>
<li>SphereCastNonAlloc    Cast sphere along the direction and store the results into buffer.</li>
<li>BoxCast    Casts the box along a ray and returns detailed information on what was hit.</li>
<li>BoxCastAll    Like Physics.BoxCast, but returns all hits.</li>
<li>BoxCastNonAlloc    Cast the box along the direction, and store hits in the provided buffer.</li>
<li>Linecast    Returns true if there is any collider intersecting the line between start and end.</li>
<li>CapsuleCast    Casts a capsule against all colliders in the scene and returns detailed information on what was hit.</li>
<li>CapsuleCastAll    Like Physics.CapsuleCast, but this function will return all hits the capsule sweep intersects.</li>
<li>CapsuleCastNonAlloc    Casts a capsule against all colliders in the scene and returns detailed information on what was hit into the buffer.</li>
</ul>
<h6 id="Overlap-return-colliders"><a href="#Overlap-return-colliders" class="headerlink" title="Overlap(return colliders)"></a>Overlap(return colliders)</h6><ul>
<li>OverlapBox    Find all colliders touching or inside of the given box.</li>
<li>OverlapBoxNonAlloc    Find all colliders touching or inside of the given box, and store them into the buffer.</li>
<li>OverlapCapsule    Check the given capsule against the physics world and return all overlapping colliders.</li>
<li>OverlapCapsuleNonAlloc    Check the given capsule against the physics world and return all overlapping colliders in the user-provided buffer.</li>
<li>OverlapSphere    Returns an array with all colliders touching or inside the sphere.</li>
<li>OverlapSphereNonAlloc    Computes and stores colliders touching or inside the sphere into the provided buffer.</li>
</ul>
<h6 id="Check-return-bool"><a href="#Check-return-bool" class="headerlink" title="Check(return bool)"></a>Check(return bool)</h6><ul>
<li>CheckBox    Check whether the given box overlaps with other colliders or not.</li>
<li>CheckCapsule    Checks if any colliders overlap a capsule-shaped volume in world space.</li>
<li>CheckSphere    Returns true if there are any colliders overlapping the sphere defined by position and radius in world coordinates.</li>
</ul>
<h6 id="Ignore"><a href="#Ignore" class="headerlink" title="Ignore"></a>Ignore</h6><ul>
<li>GetIgnoreLayerCollision    Are collisions between layer1 and layer2 being ignored?</li>
<li>IgnoreCollision    Makes the collision detection system ignore all collisions between collider1 and collider2.</li>
<li>IgnoreLayerCollision    Makes the collision detection system ignore all collisions between any collider in layer1 and any collider in layer2.Note that IgnoreLayerCollision will reset the trigger state of affected colliders, so you might receive OnTriggerExit and OnTriggerEnter messages in response to calling this.</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://mirokule.github.io/2016/11/28/Unity-RelativeMove/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Miles">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Gate of Babylon">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/11/28/Unity-RelativeMove/" itemprop="url">Unity-RelativeMove</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-11-28T16:15:44+08:00">
                2016-11-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  529
                </span>
              

              

              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>第三人称游戏中，控制角色移动、转向等。</p>
<p>1.角色转向。角色将旋转至相对于摄像机的朝向，即面向摄像机的左右。<br>2.水平移动。使用CharacterController，限制移动速度。<br>3.垂直移动。CharacterController胶囊体判断落地有误差，故使用RayCast判断是否落地。<br>当射线未检测到地面，而胶囊体触地时表明卡在平台边缘，需要调整速度离开边缘。<br>角色站在地面上时也要有向下的速度，按在地面上，以通过凹凸不平的地表。<br>限制垂直速度。<br>4.移动动画。在合适的位置向Animator传递参数而不是直接控制动画播放，更好地解耦。</p>
<figure class="highlight cs"><table><tr><td class="code"><pre><span class="line">   <span class="keyword">using</span> UnityEngine;</span><br><span class="line">   <span class="keyword">using</span> System.Collections;</span><br><span class="line"></span><br><span class="line">   [<span class="meta">RequireComponent(typeof(CharacterController))</span>]</span><br><span class="line"></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">RelativeMovement</span> : <span class="title">MonoBehaviour</span> &#123;</span><br><span class="line">[<span class="meta">SerializeField</span>] <span class="keyword">private</span> Transform target;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">float</span> rotSpeed = <span class="number">1.5</span>f;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">float</span> moveSpeed = <span class="number">6.0</span>f;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">float</span> jumpSpeed = <span class="number">15.0</span>f;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">float</span> gravity = <span class="number">-9.8</span>f;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">float</span> terminalVelocity = <span class="number">-10.0</span>f;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">float</span> minFall = <span class="number">-1.5</span>f;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">float</span> _vertSpeed;</span><br><span class="line"><span class="keyword">private</span> CharacterController _charController;</span><br><span class="line"><span class="keyword">private</span> ControllerColliderHit _contact;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> Animator _animator;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Start</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	_charController = GetComponent&lt;CharacterController&gt; ();</span><br><span class="line">	_vertSpeed = minFall;</span><br><span class="line">	_animator = GetComponent&lt;Animator&gt; ();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Update</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">	Vector3 movement = Vector3.zero;</span><br><span class="line">	<span class="keyword">bool</span> hitGround = <span class="literal">false</span>;</span><br><span class="line">	RaycastHit hit;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">float</span> horInput = Input.GetAxis (<span class="string">"Horizontal"</span>);</span><br><span class="line">	<span class="keyword">float</span> verInput = Input.GetAxis (<span class="string">"Vertical"</span>);</span><br><span class="line">	<span class="keyword">if</span> (horInput != <span class="number">0</span> || verInput != <span class="number">0</span>) &#123;</span><br><span class="line">		movement.x = horInput * moveSpeed;</span><br><span class="line">		movement.z = verInput * moveSpeed;</span><br><span class="line">		movement = Vector3.ClampMagnitude (movement, moveSpeed);</span><br><span class="line">		_animator.SetFloat (<span class="string">"Speed"</span>, movement.sqrMagnitude);</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 使角色相对于摄像机朝向不同的方向，比如输入“左”，将“左”根据摄像机角度转向，角色将转向“摄像机的左边”</span></span><br><span class="line">		Quaternion temp = target.rotation;</span><br><span class="line">		target.eulerAngles = <span class="keyword">new</span> Vector3 (<span class="number">0</span>, target.eulerAngles.y, <span class="number">0</span>);</span><br><span class="line">		movement = target.TransformDirection (movement);</span><br><span class="line">		target.rotation = temp;</span><br><span class="line"></span><br><span class="line">		Quaternion direction = Quaternion.LookRotation (movement);</span><br><span class="line">		transform.rotation = Quaternion.Lerp (transform.rotation, direction, rotSpeed);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 射线投射，检测是否触地</span></span><br><span class="line">	<span class="keyword">if</span> (_vertSpeed &lt; <span class="number">0</span> &amp;&amp; Physics.Raycast (transform.position, Vector3.down, <span class="keyword">out</span> hit)) &#123;</span><br><span class="line">		<span class="keyword">float</span> check = (_charController.height + _charController.radius) / <span class="number">1.9</span>f;</span><br><span class="line">		hitGround = hit.distance &lt;= check;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// 跳跃</span></span><br><span class="line">	<span class="keyword">if</span> (hitGround) &#123;</span><br><span class="line">		<span class="keyword">if</span> (Input.GetButtonDown (<span class="string">"Jump"</span>)) &#123;</span><br><span class="line">			_vertSpeed = jumpSpeed;</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			_vertSpeed = minFall;</span><br><span class="line">			_animator.SetBool (<span class="string">"Jumping"</span>, <span class="literal">false</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		_vertSpeed += gravity * <span class="number">5</span> * Time.deltaTime;</span><br><span class="line">		<span class="keyword">if</span> (_vertSpeed &lt; terminalVelocity) &#123;</span><br><span class="line">			_vertSpeed = terminalVelocity;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (_contact != <span class="literal">null</span>) &#123;</span><br><span class="line">			_animator.SetBool (<span class="string">"Jumping"</span>, <span class="literal">true</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">// 射线未检测到地面，控制器触地，代表平台边缘</span></span><br><span class="line">		<span class="keyword">if</span> (_charController.isGrounded) &#123;</span><br><span class="line">			<span class="keyword">if</span> (Vector3.Dot (movement, _contact.normal) &lt; <span class="number">0</span>) &#123; <span class="comment">//  朝向平台移动</span></span><br><span class="line">				movement = _contact.normal * moveSpeed;</span><br><span class="line">			&#125; <span class="keyword">else</span> &#123; <span class="comment">// &gt;0 背离平台移动，从平台掉落</span></span><br><span class="line">				movement += _contact.normal * moveSpeed;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	movement.y = _vertSpeed;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 移动角色，永远要乘deltaTime，帧率独立</span></span><br><span class="line">	movement *= Time.deltaTime;</span><br><span class="line">	_charController.Move (movement);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">OnControllerColliderHit</span>(<span class="params">ControllerColliderHit hit</span>) </span>&#123;</span><br><span class="line">	_contact = hit;</span><br><span class="line">&#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://mirokule.github.io/2016/11/27/Unity-Basic3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Miles">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Gate of Babylon">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/11/27/Unity-Basic3/" itemprop="url">Unity-Basic3</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-11-27T16:13:15+08:00">
                2016-11-27
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  597
                </span>
              

              

              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>1.计算场景阴影是计算机图形学中特别耗时的部分之一，所以游戏往往以不同的方式偷工减料。</p>
<p>2.Normals（法线）是垂直于多边形的方向向量，它将多边形的朝向告诉计算机。这个朝向用于光照计算。<br>导入模型时，Normals的默认设置是import，但是个别模型无法正确定义法线并将以奇怪的方式对光照做出反应。<br>修改设置为Calculate，可以让Unity为每个多边形重新计算方向向量。</p>
<p>3.LightMap（光照贴图）是应用到平面几何体的贴图，贴图中烘焙了阴影。</p>
<p>4.LateUpdate()每一帧都被调用。在Update()方法调用所有对象后才执行LateUpdate()，确保在目标移动之后再更新摄像机。</p>
<p>5.不同游戏对数据管理的需求不同。不要认为对于Unity都需要强制使用规则“每个游戏必须使用这样或那样的模式”。</p>
<p>6.放置在Resources目录中的资源可以使用Resources.load()方法来动态加载。其他目录只能通过Unity编辑器放置到场景中。</p>
<p>7.推荐使用的图片格式：PNG和TGA<br>推荐使用的3D格式：首选FBX，其次Collada(DAE)，含有网格和动画。OBJ是文本格式，只有网格。</p>
<p>8.出于技术上的有效性，图形芯片希望处理2的N次幂的贴图：4,8,16,32,64,128,256,512,1024,2056</p>
<p>9.Texture经过Shader处理才能生成Material，即Texture + Shader = Material。不同Shader里，Texture的组织方式不同。</p>
<p>10.Texture WrapMode 包裹模式<br>Repeat 重复平铺<br>Clamp 强制贴图边界拉伸</p>
<p>11.Unity中有一些用于文件夹名字的关键字，这些特殊文件夹中的文件会以特殊的方式处理。<br>这些特殊关键字为Resources、Plugins、Editor和Gizmos。</p>
<p>12.Additive着色器将粒子颜色叠加，而不替换。让像素更明亮。<br>Multiply着色器将灰度相乘？让像素变得更暗，叠加黑色则变为黑色，叠加白色不影响。</p>
<p>13.Particle Simulation Space：一般静止时使用Local,移动时使用World；视情况而定<br>比如火车顶部的烟，粒子运动轨迹为竖直向上。火车移动时粒子若使用Local坐标，则为竖直向上；使用world坐标则随风飘散。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://mirokule.github.io/2016/11/27/Unity-Messanger/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Miles">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Gate of Babylon">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/11/27/Unity-Messanger/" itemprop="url">Unity-Messanger</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-11-27T15:24:22+08:00">
                2016-11-27
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  120
                </span>
              

              

              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="全局广播"><a href="#全局广播" class="headerlink" title="全局广播"></a>全局广播</h4><p>用于UI与游戏通信等</p>
<ol>
<li><p>import Messenger.cs</p>
</li>
<li><p>set up GameEvent</p>
</li>
</ol>
<figure class="highlight cs"><table><tr><td class="code"><pre><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title">GameEvent</span> &#123;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">const</span> <span class="keyword">string</span> ENEMY_HIT = <span class="string">"ENEMY_HIT"</span>;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">const</span> <span class="keyword">string</span> SPEED_CHANGED = <span class="string">"SPEED_CHANGED"</span>;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<ol>
<li>add listener</li>
</ol>
<figure class="highlight cs"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Awake</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	Messenger&lt;<span class="keyword">float</span>&gt;.AddListener (GameEvent.SPEED_CHANGED, OnSpeedChanged);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Destroy</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	Messenger&lt;<span class="keyword">float</span>&gt;.RemoveListener (GameEvent.SPEED_CHANGED, OnSpeedChanged);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">OnSpeedChanged</span>(<span class="params"><span class="keyword">float</span> <span class="keyword">value</span></span>) </span>&#123;</span><br><span class="line">	speed = baseSpeed * <span class="keyword">value</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol>
<li><p>broadcast message</p>
<p> Messenger<float>.Broadcast (GameEvent.SPEED_CHANGED, speed);</float></p>
</li>
</ol>
<h4 id="点对点"><a href="#点对点" class="headerlink" title="点对点"></a>点对点</h4><ol>
<li>脚本定义接到通知后的操作方法，operateFunction()</li>
<li>将脚本添加到目标物体objectA</li>
<li>取得objectA的组件引用，例如colliderA</li>
<li>使用colliderA.SendMessage(“operateFunction”, options)</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://mirokule.github.io/2016/11/27/Unity-EventSystem/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Miles">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Gate of Babylon">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/11/27/Unity-EventSystem/" itemprop="url">Unity-EventSystem</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-11-27T10:51:48+08:00">
                2016-11-27
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  160
                </span>
              

              

              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>EventSystem组件主要负责处理输入、射线投射以及发送事件。一个场景中只能有一个EventSystem组件，并且需要BaseInputModule类型组件的协助才能工作。</p>
<h4 id="Static-Variables"><a href="#Static-Variables" class="headerlink" title="Static Variables"></a>Static Variables</h4><ul>
<li>current    Return the current EventSystem.</li>
</ul>
<h4 id="Variables"><a href="#Variables" class="headerlink" title="Variables"></a>Variables</h4><ul>
<li>alreadySelecting    Returns true if the EventSystem is already in a SetSelectedGameObject.</li>
<li>currentInputModule    The currently active BaseInputModule.</li>
<li>currentSelectedGameObject    The GameObject currently considered active by the EventSystem.</li>
<li>firstSelectedGameObject    The GameObject that was selected first.</li>
<li>pixelDragThreshold    The soft area for dragging in pixels.</li>
<li>sendNavigationEvents    Should the EventSystem allow navigation events (move / submit / cancel).</li>
</ul>
<h4 id="Public-Functions"><a href="#Public-Functions" class="headerlink" title="Public Functions"></a>Public Functions</h4><ul>
<li>IsPointerOverGameObject    Is the pointer with the given id over an EventSystem object?</li>
<li>RaycastAll    Raycast into the scene using all configured BaseRaycasters.</li>
<li>SetSelectedGameObject    Set the object as selected. Will send an OnDeselect the the old selected object and OnSelect to the new selected object.</li>
<li>UpdateModules    Recalculate the internal list of BaseInputModules.</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://mirokule.github.io/2016/11/27/Unity-Anchors/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Miles">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Gate of Babylon">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/11/27/Unity-Anchors/" itemprop="url">Unity-Anchors</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-11-27T10:27:03+08:00">
                2016-11-27
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  123
                </span>
              

              

              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="Anchors"><a href="#Anchors" class="headerlink" title="Anchors"></a>Anchors</h4><p>定义UI元素的位置和大小。<br>所有UI对象都有锚点(anchor)，锚点组成一个矩形，坐标归一化，代表“在父对象中的相对位置”。<br>UI元素的位置表示为，“到锚点的相对距离”。<br>当父元素的大小改变时，锚点的位置改变，子元素的大小随之改变，实现等比例缩放。</p>
<h4 id="Pivot"><a href="#Pivot" class="headerlink" title="Pivot"></a>Pivot</h4><p>定义UI元素的变换中心。<br>当实现旋转、缩放时，将以pivot点为轴。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://mirokule.github.io/2016/11/23/Unity-SphereCast/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Miles">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Gate of Babylon">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/11/23/Unity-SphereCast/" itemprop="url">Unity-SphereCast</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-11-23T17:43:32+08:00">
                2016-11-23
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  227
                </span>
              

              

              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Casts a sphere along a ray and returns detailed information on what was hit.</p>
<p>This is useful when a Raycast does not give enough precision, because you want to find out if an object of a specific size, such as a character, will be able to move somewhere without colliding with anything on the way. Think of the sphere cast like a thick raycast. In this case the ray is specified by a start vector and a direction.</p>
<p>Returns true when the sphere intersects any collider.</p>
<ul>
<li>public static bool SphereCast(Vector3 origin, float radius, Vector3 direction, out RaycastHit hitInfo, float maxDistance = Mathf.Infinity, int layerMask = DefaultRaycastLayers, QueryTriggerInteraction queryTriggerInteraction = QueryTriggerInteraction.UseGlobal);</li>
<li>public static bool SphereCast(Ray ray, float radius, float maxDistance = Mathf.Infinity, int layerMask = DefaultRaycastLayers, QueryTriggerInteraction queryTriggerInteraction = QueryTriggerInteraction.UseGlobal);</li>
<li>public static bool SphereCast(Ray ray, float radius, out RaycastHit hitInfo, float maxDistance = Mathf.Infinity, int layerMask = DefaultRaycastLayers, QueryTriggerInteraction queryTriggerInteraction = QueryTriggerInteraction.UseGlobal);</li>
</ul>
<figure class="highlight cs"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Update</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (_alive) &#123;</span><br><span class="line">		transform.Translate (<span class="number">0</span>, <span class="number">0</span>, speed * Time.deltaTime);</span><br><span class="line"></span><br><span class="line">		Ray ray = <span class="keyword">new</span> Ray (transform.position, transform.forward);</span><br><span class="line">		RaycastHit hit;</span><br><span class="line">		<span class="keyword">if</span> (Physics.SphereCast (ray, <span class="number">0.75</span>f, <span class="keyword">out</span> hit)) &#123;</span><br><span class="line">			GameObject hitObject = hit.transform.gameObject;</span><br><span class="line">			<span class="keyword">if</span> (hitObject.GetComponent&lt;PlayerCharacter&gt; ()) &#123;</span><br><span class="line">				<span class="keyword">if</span> (_fireball == <span class="literal">null</span>) &#123;</span><br><span class="line">					_fireball = Instantiate (fireballPrefab) <span class="keyword">as</span> GameObject;</span><br><span class="line">					_fireball.transform.position = transform.TransformPoint (Vector3.forward * <span class="number">1.5</span>f);</span><br><span class="line">					_fireball.transform.rotation = transform.rotation;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span> (hit.distance &lt; obstacleRange) &#123;</span><br><span class="line">				<span class="keyword">float</span> angle = Random.Range (<span class="number">-100</span>, <span class="number">100</span>);</span><br><span class="line">				transform.Rotate (<span class="number">0</span>, angle, <span class="number">0</span>);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://mirokule.github.io/2016/11/23/Unity-Instantiate/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Miles">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Gate of Babylon">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/11/23/Unity-Instantiate/" itemprop="url">Unity-Instantiate</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-11-23T16:34:01+08:00">
                2016-11-23
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  194
                </span>
              

              

              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="Object-Instantiate"><a href="#Object-Instantiate" class="headerlink" title="Object.Instantiate"></a>Object.Instantiate</h4><p>Returns a clone of the original object.</p>
<figure class="highlight cs"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Object <span class="title">Instantiate</span>(<span class="params">Object original</span>)</span>;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Object <span class="title">Instantiate</span>(<span class="params">Object original, Transform parent</span>)</span>;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Object <span class="title">Instantiate</span>(<span class="params">Object original, Transform parent, <span class="keyword">bool</span> worldPositionStays</span>)</span>;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Object <span class="title">Instantiate</span>(<span class="params">Object original, Vector3 position, Quaternion rotation</span>)</span>;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Object <span class="title">Instantiate</span>(<span class="params">Object original, Vector3 position, Quaternion rotation, Transform parent</span>)</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">InstantiateExample</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> GameObject prefab;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">            Instantiate(prefab, <span class="keyword">new</span> Vector3(i * <span class="number">2.0</span>f, <span class="number">0</span>, <span class="number">0</span>), Quaternion.identity);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="GameObject-CreatePrimitive"><a href="#GameObject-CreatePrimitive" class="headerlink" title="GameObject.CreatePrimitive"></a>GameObject.CreatePrimitive</h4><p>基本类型的prefab没有暴露出来，不方便使用instantiate，使用GameObject的内置方法。</p>
<figure class="highlight cs"><table><tr><td class="code"><pre><span class="line">/在场景中创建一个平面，球体，立方体，胶囊，圆柱体  </span><br><span class="line">GameObject plane = GameObject.CreatePrimitive(PrimitiveType.Plane);  </span><br><span class="line">GameObject cube = GameObject.CreatePrimitive(PrimitiveType.Cube);  </span><br><span class="line">cube.transform.position = <span class="keyword">new</span> Vector3(<span class="number">0</span>, <span class="number">0.5</span>F, <span class="number">0</span>);  </span><br><span class="line">GameObject sphere = GameObject.CreatePrimitive(PrimitiveType.Sphere);  </span><br><span class="line">sphere.transform.position = <span class="keyword">new</span> Vector3(<span class="number">0</span>, <span class="number">1.5</span>F, <span class="number">0</span>);  </span><br><span class="line">GameObject capsule = GameObject.CreatePrimitive(PrimitiveType.Capsule);  </span><br><span class="line">capsule.transform.position = <span class="keyword">new</span> Vector3(<span class="number">2</span>, <span class="number">1</span>, <span class="number">0</span>);  </span><br><span class="line">GameObject cylinder = GameObject.CreatePrimitive(PrimitiveType.Cylinder);  </span><br><span class="line">cylinder.transform.position = <span class="keyword">new</span> Vector3(<span class="number">-2</span>, <span class="number">1</span>, <span class="number">0</span>);</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://mirokule.github.io/2016/11/23/Unity-UI/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Miles">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Gate of Babylon">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/11/23/Unity-UI/" itemprop="url">Unity-UI</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-11-23T16:26:15+08:00">
                2016-11-23
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  357
                </span>
              

              

              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ul>
<li>GUI: Unity 5之前内置的界面制作系统，只能使用代码。</li>
<li>NGUI: 第三方插件</li>
<li>UGUI: Unity 5 引入的可视化界面制作工具</li>
</ul>
<h4 id="GUI"><a href="#GUI" class="headerlink" title="GUI"></a>GUI</h4><p>需要在OnGUI()函数中实现，和update()一样每帧调用。<br>GUI的控件一般都需要传入Rect参数来指定屏幕绘制区域，例如Rect(0,0,100,200)，其中(0,0)代表屏幕左上角。</p>
<figure class="highlight cs"><table><tr><td class="code"><pre><span class="line">   <span class="function"><span class="keyword">void</span> <span class="title">OnGUI</span>(<span class="params"></span>)  </span></span><br><span class="line"><span class="function">   </span>&#123;  </span><br><span class="line">       <span class="comment">//GUI.color = Color.red;  </span></span><br><span class="line"> </span><br><span class="line">       GUI.Label(<span class="keyword">new</span> Rect (<span class="number">10</span>, <span class="number">10</span>, <span class="number">100</span>, <span class="number">200</span>), <span class="string">"Hello World!"</span>);  </span><br><span class="line"></span><br><span class="line">       GUI.Label (<span class="keyword">new</span> Rect (<span class="number">100</span>, <span class="number">100</span>, texture.width/<span class="number">4</span>, texture.height/<span class="number">4</span>), texture);  </span><br><span class="line"></span><br><span class="line">       GUI.Box (<span class="keyword">new</span> Rect (<span class="number">10</span>, <span class="number">10</span>, Screen.width * <span class="number">0.5</span>f, Screen.height * <span class="number">0.5</span>f), <span class="string">"This is a title"</span>);  </span><br><span class="line"> </span><br><span class="line">       GUI.Box (<span class="keyword">new</span> Rect (<span class="number">150</span>, <span class="number">170</span>, texture.width/<span class="number">4</span>, texture.height/<span class="number">4</span>), texture);    </span><br><span class="line"></span><br><span class="line">       GUI.Button (<span class="keyword">new</span> Rect (<span class="number">10</span>, <span class="number">10</span>, <span class="number">150</span>, <span class="number">50</span>), <span class="string">"这是一个文字按钮"</span>);  </span><br><span class="line">       <span class="comment">//图片按钮  </span></span><br><span class="line">       GUI.Button (<span class="keyword">new</span> Rect (<span class="number">150</span>, <span class="number">100</span>, texture.width/<span class="number">4</span>, texture.height/<span class="number">4</span>), texture);     </span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="UI交互的一般步骤"><a href="#UI交互的一般步骤" class="headerlink" title="UI交互的一般步骤"></a>UI交互的一般步骤</h4><p>(1)在场景中创建UI控件(按钮、文本、控制器)<br>(2)编写控制器脚本，实现操作UI时的功能<br>(3)将脚本附加到控制器上<br>(4)将相关UI控件连接到脚本上,或者将UI控件的event trigger连接到脚本函数上</p>
<h4 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h4><p>1.event trigger连接带参数的脚本函数时，要在面板顶部的Dynamic XXX部分选择该函数，而不是在底部的Static Parameters部分。<br>在Static Parameters中选择时只会发送提前定义的单个字符串，而在Dynamic中选择发送的是输入域中的任何内容。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/6/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><span class="page-number current">7</span><a class="page-number" href="/page/8/">8</a><span class="space">&hellip;</span><a class="page-number" href="/page/17/">17</a><a class="extend next" rel="next" href="/page/8/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/avatar.png"
                alt="Miles" />
            
              <p class="site-author-name" itemprop="name">Miles</p>
              <p class="site-description motion-element" itemprop="description">非著名失业家</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">168</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">37</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          <div class="links-of-author motion-element">
            
              
                <span class="links-of-author-item">
                  <a href="https://github.com/mirokule" target="_blank" title="GitHub">
                    
                      <i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
                <span class="links-of-author-item">
                  <a href="mailto:miles.miro@gmail.com" target="_blank" title="E-Mail">
                    
                      <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                </span>
              
            
          </div>

          
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-inline">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-link"></i>
                Links
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="http://www.kaggle.com/" title="Kaggle" target="_blank">Kaggle</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://unity3d.com/" title="Unity" target="_blank">Unity</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://www.apple.com/swift/" title="Swift" target="_blank">Swift</a>
                  </li>
                
              </ul>
            </div>
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2015 &mdash; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">M.M.Tech</span>

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    
      <span class="post-meta-item-text">Site words total count&#58;</span>
    
    <span title="Site words total count">53.7k</span>
  
</div>










        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.3"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.3"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.3"></script>



  


  




	





  





  












  





  

  

  

  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script><!-- hexo-inject:begin --><!-- hexo-inject:end -->
  


  

  

</body>
</html>
